     Instruction to Run and Compile the FD codes

        R. Clayton, Jan, 2008

To run the codes
----------------

To run the FD code (either the acoutic version acou_thr or
the elastic version elas_thr), you need to first create
the model files (XXX.den, XXX.vp, and XXX.vs).  To do this
run the model program

make_model par=XX.par

For example make_model par=antonnio.par

Them to do the FD calculations:

elas_thr par=antonnio.par

or

acou_thr par=antonnio.par

Note: the 'nthreads' parameter controls the number
of threads used in the calculations. Since sigma
appears to be a 2 core machine, I would choose
nthread=2 or =4.

The programs prints the progress every 'itprint'
time steps.  It report the norm of the stress
and displacement fields at these time steps. If the
parameters make an unstable run, these will exponentialy
increase until the program crashes.

The will create an output file called XXX.isis (or e.g.
antonnio.isis).  This is a set of seismograms in isis
format.

To load the data into isis, you need to execute the
isis command

tapein -c -o antonnio_project -p -s < antonnio.isis

where antonnio_project is whatever name you choose for
the isis project.


To compile the codes
--------------------

In the codes directory type

make acou_thr

make elas_thr

make make_model

The copy the executeables to the bin directory

mv acou_thr elas_thr make_model ../bin/.

Note: numerous warnings will be generated by the
getpar.c code because it used an older mode of parameter
passing.  Ignore these.

